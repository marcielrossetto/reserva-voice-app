<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - Reserva Voice App</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        font-family: "Poppins", sans-serif;
      }
      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .container-login {
        max-width: 500px;
        width: 100%;
        padding: 20px;
      }
      .card {
        border: none;
        border-radius: 15px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        background: white;
      }
      .card-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px 15px 0 0 !important;
        padding: 30px;
        text-align: center;
      }
      .card-header h4 {
        margin: 0;
        font-weight: 700;
        font-size: 24px;
      }
      .card-body {
        padding: 30px;
      }
      .form-group {
        margin-bottom: 20px;
      }
      .form-label {
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
      }
      .form-control {
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        padding: 12px 15px;
        font-size: 14px;
        transition: all 0.3s;
      }
      .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.15);
      }
      .btn {
        border-radius: 8px;
        padding: 12px;
        font-weight: 600;
        font-size: 16px;
        transition: all 0.3s;
        width: 100%;
        border: none;
      }
      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        color: white;
      }
      .btn-outline-secondary {
        color: #667eea;
        border: 2px solid #667eea;
        margin-top: 10px;
      }
      .btn-outline-secondary:hover {
        background: #667eea;
        border-color: #667eea;
        color: white;
      }
      .link-login {
        text-align: center;
        margin-top: 15px;
        font-size: 14px;
      }
      .link-login a {
        color: #667eea;
        text-decoration: none;
        font-weight: 600;
        cursor: pointer;
      }
      .link-login a:hover {
        text-decoration: underline;
      }
      .text-muted-small {
        font-size: 12px;
        color: #999;
        text-align: center;
        margin-top: 20px;
      }
      .hidden {
        display: none !important;
      }
      .alert {
        border-radius: 8px;
        margin-bottom: 20px;
        font-size: 14px;
      }
      .spinner-border {
        width: 1rem;
        height: 1rem;
      }
      .hr-divider {
        margin: 20px 0;
        border: none;
        border-top: 1px solid #e0e0e0;
      }
      .requisitos-container {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        margin-top: 10px;
        font-size: 13px;
        display: none;
      }
      .requisito-item {
        display: flex;
        align-items: center;
        margin: 8px 0;
        padding: 5px 0;
      }
      .requisito-icon {
        margin-right: 10px;
        width: 20px;
        text-align: center;
      }
      .requisito-ok {
        color: #22c55e;
      }
      .requisito-no {
        color: #999;
      }
    </style>
  </head>
  <body>
    <div class="container-login">
      <!-- TELA 1: LOGIN -->
      <div id="telaLogin" class="card">
        <div class="card-header">
          <h4>üîê Entrar</h4>
        </div>
        <div class="card-body">
          <div id="alertaLogin"></div>

          <form id="formLogin" onsubmit="fazerLogin(event)">
            <div class="form-group">
              <label class="form-label">üìß E-mail</label>
              <input
                type="email"
                class="form-control"
                id="loginEmail"
                placeholder="seu@email.com"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">üîë Senha</label>
              <input
                type="password"
                class="form-control"
                id="loginSenha"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                required
              />
            </div>

            <button type="submit" class="btn btn-primary">
              <span id="btnLoginText">Entrar</span>
              <span
                id="btnLoginSpinner"
                class="spinner-border hidden"
                role="status"
                aria-hidden="true"
              ></span>
            </button>
          </form>

          <div class="link-login">
            <a onclick="abrirTelaEsqueceuSenha()">üîì Esqueci minha senha</a>
          </div>

          <div class="hr-divider"></div>

          <div style="text-align: center; margin-top: 20px">
            <p style="font-size: 14px; color: #666">N√£o tem login?</p>
            <button
              type="button"
              class="btn btn-outline-secondary"
              onclick="abrirTelaCadastro()"
            >
              ‚ú® Teste Gr√°tis 7 Dias
            </button>
          </div>

          <p class="text-muted-small">
            Cadastre sua empresa e comece a usar agora
          </p>
        </div>
      </div>

      <!-- TELA 2: CADASTRO EMPRESA -->
      <div id="telaCadastro" class="card hidden">
        <div class="card-header">
          <h4>üè¢ Cadastrar Empresa</h4>
        </div>
        <div class="card-body">
          <div id="alertaCadastro"></div>

          <form id="formCadastro" onsubmit="fazerCadastro(event)">
            <div class="form-group">
              <label class="form-label">üè¢ Nome da Empresa</label>
              <input
                type="text"
                class="form-control"
                id="nomeEmpresa"
                placeholder="Ex: Restaurante XYZ"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">üì± Telefone</label>
              <input
                type="tel"
                class="form-control"
                id="telefoneCadastro"
                placeholder="(11) 99999-9999"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">üìã CNPJ ou CPF</label>
              <input
                type="text"
                class="form-control"
                id="cnpjCpf"
                placeholder="00.000.000/0000-00"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">üìß E-mail</label>
              <input
                type="email"
                class="form-control"
                id="emailCadastro"
                placeholder="seu@email.com"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label">üîë Senha</label>
              <input
                type="password"
                class="form-control"
                id="senhaCadastro"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                required
                oninput="validarSenha()"
              />
              <div class="requisitos-container" id="requisitosContainer">
                <div class="requisito-item">
                  <span class="requisito-icon" id="maius">‚≠ï</span>
                  <span>Letra mai√∫scula (A-Z)</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-icon" id="minus">‚≠ï</span>
                  <span>Letra min√∫scula (a-z)</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-icon" id="numero">‚≠ï</span>
                  <span>N√∫mero (0-9)</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-icon" id="especial">‚≠ï</span>
                  <span>Caractere especial (!@#$%^&*)</span>
                </div>
                <div class="requisito-item">
                  <span class="requisito-icon" id="comprimento">‚≠ï</span>
                  <span>M√≠nimo 8 caracteres</span>
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary">
              <span id="btnCadastroText">Cadastrar</span>
              <span class="spinner-border hidden" id="btnCadastroSpinner"></span>
            </button>
          </form>

          <div class="link-login">
            <a onclick="voltarTelaLogin()">‚Üê Voltar ao Login</a>
          </div>

          <p class="text-muted-small">
            ‚úÖ Teste gr√°tis por 7 dias ‚Ä¢ Sem cart√£o de cr√©dito
          </p>
        </div>
      </div>

      <!-- TELA 3: ESQUECEU SENHA -->
      <div id="telaEsqueceuSenha" class="card hidden">
        <div class="card-header">
          <h4>üîì Recuperar Senha</h4>
        </div>
        <div class="card-body">
          <div id="alertaEsqueceu"></div>

          <!-- Etapa 1: Solicitar E-mail -->
          <div id="etapa1EmailEsqueceu">
            <p style="font-size: 14px; color: #666; margin-bottom: 20px">
              Digite seu e-mail para receber um c√≥digo de verifica√ß√£o
            </p>

            <form onsubmit="solicitarTokenSenha(event)">
              <div class="form-group">
                <label class="form-label">üìß E-mail Cadastrado</label>
                <input
                  type="email"
                  class="form-control"
                  id="emailSenha"
                  placeholder="seu@email.com"
                  required
                />
              </div>

              <button type="submit" class="btn btn-primary">
                <span id="btnEmailText">Enviar C√≥digo</span>
                <span id="btnEmailSpinner" class="spinner-border hidden"></span>
              </button>
            </form>
          </div>

          <!-- Etapa 2: Verificar Token -->
          <div id="etapa2TokenEsqueceu" class="hidden">
            <div class="alert alert-info">
              ‚úÖ C√≥digo enviado para <strong id="emailRecuperacao"></strong>
            </div>

            <p style="font-size: 14px; color: #666; margin-bottom: 20px">
              Digite o c√≥digo que recebeu por e-mail
            </p>

            <form onsubmit="verificarTokenSenha(event)">
              <div class="form-group">
                <label class="form-label">üîê C√≥digo de Verifica√ß√£o (6 d√≠gitos)</label>
                <input
                  type="text"
                  class="form-control"
                  id="tokenVerificacao"
                  placeholder="000000"
                  maxlength="6"
                  required
                />
              </div>

              <button type="submit" class="btn btn-primary">
                <span id="btnTokenText">Verificar</span>
                <span id="btnTokenSpinner" class="spinner-border hidden"></span>
              </button>
            </form>

            <div class="link-login">
              <a onclick="voltarSolicitarEmail()">‚Üê Digitar outro e-mail</a>
            </div>
          </div>

          <!-- Etapa 3: Nova Senha -->
          <div id="etapa3NovaSenhaEsqueceu" class="hidden">
            <div class="alert alert-success">
              ‚úÖ C√≥digo verificado! Agora crie uma nova senha
            </div>

            <form onsubmit="atualizarSenhaEsquecida(event)">
              <div class="form-group">
                <label class="form-label">üîë Nova Senha</label>
                <input
                  type="password"
                  class="form-control"
                  id="novaSenhaEsqueceu"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                  oninput="validarSenhaRecuperacao()"
                />
                <div class="requisitos-container" id="requisitosRecuperacao">
                  <div class="requisito-item">
                    <span class="requisito-icon" id="maiusRec">‚≠ï</span>
                    <span>Letra mai√∫scula (A-Z)</span>
                  </div>
                  <div class="requisito-item">
                    <span class="requisito-icon" id="minusRec">‚≠ï</span>
                    <span>Letra min√∫scula (a-z)</span>
                  </div>
                  <div class="requisito-item">
                    <span class="requisito-icon" id="numeroRec">‚≠ï</span>
                    <span>N√∫mero (0-9)</span>
                  </div>
                  <div class="requisito-item">
                    <span class="requisito-icon" id="especialRec">‚≠ï</span>
                    <span>Caractere especial (!@#$%^&*)</span>
                  </div>
                  <div class="requisito-item">
                    <span class="requisito-icon" id="comprimentoRec">‚≠ï</span>
                    <span>M√≠nimo 8 caracteres</span>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">üîë Confirmar Senha</label>
                <input
                  type="password"
                  class="form-control"
                  id="confirmarSenhaEsqueceu"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                />
              </div>

              <button type="submit" class="btn btn-primary">
                <span id="btnSenhaText">Atualizar Senha</span>
                <span id="btnSenhaSpinner" class="spinner-border hidden"></span>
              </button>
            </form>
          </div>

          <div class="link-login" style="margin-top: 20px">
            <a onclick="voltarTelaLogin()">‚Üê Voltar ao Login</a>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <!-- ‚úÖ Carregamento de login.js -->
    <script src="/js/login.js"></script>
  </body>
</html>